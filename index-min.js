!function(){function n(n){var e=Math.floor(n/60),i=Math.floor(n%60);return isNaN(e)?"00:00":(e<10&&(e="0"+e),i<10&&(i="0"+i),e+":"+i)}function e(){var n,e=0,i=0;!function(){function l(){requestAnimationFrame((function(){e++,!h&&l()}))}setTimeout((function(){l(),n=setInterval((function(){e<=16&&++i>5&&(confirm("你的电脑性能较差，是否取消模糊背景功能？")?(clearTimeout(t),localStorage.chaxinneng="yes",document.querySelector(".mbg").style.display="none"):localStorage.chaxinneng="no",h=!0,clearInterval(n)),e=0}),1e3)}),2e3)}();var t=setTimeout((function(){clearInterval(n),localStorage.chaxinneng="no"}),6e5)}function i(){if(-1!=this.innerText.indexOf(" - DESTRUCTION 3,2,1")){var n=!0;document.body.style.transition="none",document.body.style.cursor="none",setInterval((function(){n=!n,document.querySelector(".siquan-player").style.transform=n?"translateY(-10px)":"translateY(10px)",r.mode.click()}),50);var e=!0;setInterval((function(){document.body.style.opacity=Math.random(),e=!e,document.querySelector(".siquan-player").style.transform=e?"translateX(-10px)":"translateX(10px)",r.mode.click()}),70)}}function t(){var n=document.querySelector("#resizer"),e=window.innerWidth,i=window.innerHeight;if(e<700)n.innerHTML="";else{var t=`.siquan-player .container .left .music-album-pic{\n  width:${Math.min(.287*e,.5*i)}px;\n  height:${Math.min(.287*e,.5*i)}px;\n}\n.siquan-player .container .left .music-info .music-title{\n  font-size:${.02*e}px;\n}\n.iconbtn{\n  width:${.06*i}px;\n  height:${.06*i}px;\n}\n.siquan-player .container .left .music-info .music-message{\n  font-size:${.012*e}px;\n}\n.siquan-player .container .left .music-controls .range{\n  height:${.0045*i}px;\n}\n.siquan-player .container .left .music-controls .range .r1{\n  width:${.0105*i}px;\n  height:${.0105*i}px;\n  top:-${.003*i}px;\n}\n.siquan-player .container .left .music-controls .time{\n  font-size:${.012*e}px;\n}\n.siquan-player .container .left .music-controls .pl{\n  width:${.06*i*3.75+60}px;\n  height:${.06*i*1.25}px;\n}\n.siquan-player .container .left .music-controls .pl .iconbtn{\n  width:${.06*i*1.25}px;\n  height:${.06*i*1.25}px;\n}\n.siquan-player .container .right ul li{\n  font-size:${.019*e}px;\n  line-height:${.038*e}px;\n}\n.siquan-player .container .right ul li.act{\n  font-size:${.034*e}px;\n}\n.dialog .actionbar{\n  height:${.06*i}px;\n}\n.dialog .actionbar .title{\n  font-size:${.025*i}px;\n  line-height:${.06*i}px;\n}\n.musiclist.dialog .scroll-con ul li{\n  font-size:${.02*i}px;\n  height:${.045*i}px;\n  line-height:${.045*i}px;\n}\n.dialog .scroll-con{\n  height:calc(100% - ${.06*i+1}px);\n}\n.musiclist.dialog .scroll-con  ul li>*{\n  height:${.045*i}px;\n}\n.musiclist.dialog .scroll-con  ul li .index,\n.musiclist.dialog .scroll-con  ul li .anim\n{\n  width: ${.06*i}px;\n}\n.musiclist.dialog .scroll-con  ul li .name{\n  width: calc(100% - ${.06*i}px);\n}\n.musiclist.dialog .scroll-con  ul li .anim div{\n  height:${.015*i}px;\n  width:${.045*i*.05}px;\n}\n.musiclist.dialog .scroll-con  ul li .anim div:nth-child(1){\n  left:${.06*i*.375}px;\n}\n.musiclist.dialog .scroll-con  ul li .anim div:nth-child(2){\n  left:${.06*i*.525}px;\n}\n.musiclist.dialog .scroll-con  ul li .anim div:nth-child(3){\n  left:${.06*i*.675}px;\n}\n.musicinfo.dialog .d-c{\n  font-size:${.024*i}px;\n}\n.s-tag{\n  font-size:${.024*i*.75}px;\n}`;n.innerHTML=t}}function l(n){q.forEach((function(n){n.abort()})),b=n,r.img.src=f,r.title.innerText=r.album.innerText=r.info.title.innerText=r.info.album.innerText=r.info.pj.innerText=r.info.singer.innerText=r.singer.innerText="...",r.audio.src="",p={0:"正在加载"},function(n){if(-1!=n){try{document.querySelector(".musiclist ul li.act").classList.remove("act")}catch(n){}try{document.querySelector('.musiclist ul li[data-index="'+n+'"]').classList.add("act")}catch(n){}SHOW_MID_IN_URL&&ENABLED_MID&&(window._p_hash_=!0,history.replaceState({},"",window.location.pathname+"#mid="+L[n].mid))}}(n),o(),function(n){n>=0&&(r.title.innerText=r.info.title.innerText=L[n].name,document.title=g=L[n].name,r.singer.innerText=r.info.singer.innerText=L[n].artist);q.push(musicapi.get(-1==n?y:L[n],(function(e){b==n&&(e.error?(!function(n,e=function(){}){clearTimeout(v),document.querySelector(".notice").innerText=n,document.querySelector(".notice").onclick=e,document.querySelector(".notice").style.display="block",v=setTimeout((function(){document.querySelector(".notice").style.display="none",document.querySelector(".notice").onclick=function(){}}),2e3)}("歌曲获取失败",(function(){alert(e.error)})),r.nextbtn.click()):(r.img.src=e.img,document.querySelector(".mbg img").src=e.img,r.title.innerText=r.info.title.innerText=e.songname,document.title=g=e.songname,r.audio.src=e.url,r.album.innerText=r.info.album.innerText=e.album,r.singer.innerText=r.info.singer.innerText=e.artist,p=e.lrc,o(),MAINCOLORBG&&!BLURBG&&function(n,e){if(-1!=n.indexOf("y.gtimg.cn"))return void t();let i=document.createElement("img");function t(){q.push(musicapi._request("https://api.qjqq.cn/api/Imgcolor?img="+n,(function(n){if(n){var i=n.RGB.slice(1),t=parseInt(i.substring(0,2),16),l=parseInt(i.substring(2,4),16),a=parseInt(i.substring(4,6),16);e("rgba("+t+","+l+","+a+",.5)",(t+l+a)/3>128)}else e("rgba(0,0,0,0)",-1)})))}i.src=n,i.crossOrigin="Anonymous",i.onload=function(){try{let n,t,l,a,c=document.createElement("canvas"),o=c.getContext&&c.getContext("2d"),s=-4,r=50,d=0,u={r:0,g:0,b:0};for(n=c.height=i.height,t=c.width=i.width,o.drawImage(i,0,0),a=o.getImageData(0,0,t,n).data,l=a.length;(s+=4*r)<l;)++d,u.r+=a[s],u.g+=a[s+1],u.b+=a[s+2];u.r=~~(u.r/d),u.g=~~(u.g/d),u.b=~~(u.b/d),e("rgba("+u.r+","+u.g+","+u.b+",.5)",(u.r+u.g+u.b)/3>128)}catch(n){t()}},i.onerror=function(){t()}}(e.minipic||e.img,(function(n,e){document.querySelector(".siquan-player").style.background=n,-1!=e&&(e&&0==s||!e&&1==s)&&r.mode.click()}))))})))}(n),function(n){TAG&&(r.info.tags.innerHTML=L[n].tag.map((function(n){return'<span class="s-tag">'+n+"</span>"})).join(""));if(-1==n||!INFO||!ENABLED_MID)return;INFO_URL?M&&(r.info.pj.innerText=M[L[b].mid]||"暂无"):q.push(musicapi._request(INFO_ROOT+L[n].mid+".txt",(function(n){r.info.pj.innerText=n||"暂无"})))}(n)}function a(){b>=0&&(r.info.pj.innerText=M[L[b].mid]||"暂无")}function c(){var n=location.href.split("#")[1],e={};n&&(n=n.split("&")).forEach((function(n){var i=n.split("=");e[i[0]]=i[1]})),isNaN(parseInt(e.index))?"kugou"==e.type&&e.hash?(y={kugou:{hash:e.hash,album_id:e.album_id||""}},l(-1)):"netease"==e.type&&e.id?(y={netease:{id:e.id}},l(-1)):"qq"==e.type&&e.mid?(y={qq:{mid:e.mid}},l(-1)):e.mid&&ENABLED_MID?L.forEach((function(n,i){n.mid==e.mid&&l(i)})):l("first"==START_PLAY?0:S[Math.floor(Math.random()*S.length)]):l(parseInt(e.index))}function o(){for(var n in r.lrc.innerHTML="",p){var e=document.createElement("li");e.innerText=p[n],r.lrc.append(e)}}window.onhashchange=function(){window._p_hash_?window._p_hash_=!1:L.length>0&&c()};var s,r,d,u,m,v=null,g="我的音乐盒子",h=!1,p={0:"歌词加载中"},f="https://image.gumengya.com/i/2023/10/15/652b46cf15392.png",y=null,w=!1,x=!0,b=-1,L=[],q=[],S=[],M=null;document.body.innerHTML='<div class="notice"></div><div class="mbg"><img src="" alt=""><div class="mcover"></div></div><div class="siquan-player"><audio src="" id="audio"></audio><div class="container"><div class="topper"><div class="topper-left"><div class="iconbtn" id="siquan-player-musiclist"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-music-note-list" viewBox="0 0 16 16"><path d="M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2" /><path fill-rule="evenodd" d="M12 3v10h-1V3z" /><path d="M11 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 16 2.22V4l-5 1z" /><path fill-rule="evenodd" d="M0 11.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5m0-4A.5.5 0 0 1 .5 7H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5m0-4A.5.5 0 0 1 .5 3H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5" /></svg></div></div><div class="topper-right"><div class="iconbtn" id="siquan-player-musicinfo"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" /><path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0" /></svg></div></div></div><div class="left"><div class="music-album-pic"><div class="playing-anim"><div></div><div></div><div></div></div><img id="img" src="https://image.gumengya.com/i/2023/10/15/652b46cf15392.png" alt=""></div><div class="music-info"><div class="music-title" id="music-title">...</div><div class="music-message"><div>歌手：<span id="music-singer">...</span></div><div style="display: none;">专辑：<span id="music-album">...</span></div></div><div class="music-singer-m" id="music-singer-m"></div></div><div class="music-controls"><div class="range"><div class="r1"></div><div class="r2"></div><div class="r3"></div></div><div class="time"><div class="l">00:00</div><div class="r">00:00</div></div><div class="pl"><div class="iconbtn lastbtn"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-skip-start-fill" viewBox="0 0 16 16"><path d="M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0z" /></svg></div><div class="iconbtn playbtn"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z" /></svg></div><div class="iconbtn nextbtn"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-skip-end-fill" viewBox="0 0 16 16"><path d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z" /></svg></div></div></div></div><div class="right"><ul></ul></div><div class="flbtn"><div class="iconbtn full"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="unfull" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707" /></svg><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="full" style="display: none;" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.172 15.828a.5.5 0 0 0 .707 0l4.096-4.096V14.5a.5.5 0 1 0 1 0v-3.975a.5.5 0 0 0-.5-.5H1.5a.5.5 0 0 0 0 1h2.768L.172 15.121a.5.5 0 0 0 0 .707M15.828.172a.5.5 0 0 0-.707 0l-4.096 4.096V1.5a.5.5 0 1 0-1 0v3.975a.5.5 0 0 0 .5.5H14.5a.5.5 0 0 0 0-1h-2.768L15.828.879a.5.5 0 0 0 0-.707" /></svg></div><div class="iconbtn mode"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z" /></svg></div><div class="iconbtn sx"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-repeat" viewBox="0 0 16 16"><path d="M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192Zm3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z" /></svg></div></div></div></div><div class="dialog musiclist"><div class="d-c"><div class="actionbar"><div class="left"></div><div class="title">播放列表</div><div class="right"><div class="iconbtn close"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" /></svg></div></div></div><div class="scroll-con"><ul></ul></div></div></div><div class="dialog musicinfo"><div class="d-c"><div class="actionbar"><div class="title">歌曲信息</div><div class="right"><div class="iconbtn close"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" /></svg></div></div></div><div class="scroll-con"><div class="a" style="padding: 10px;line-height:1.5em;"><b>歌曲名</b>：<span class="info-name"></span><br><b>歌手</b>：<span class="info-singer"></span><br><b>专辑</b>：<span class="info-album"></span><br><div class="info-tags"><b>标签</b>：<span class="in"></span><br></div><div class="info-pj"><b>我的评价</b>：<div class="in" style="text-indent: 2em;"></div></div><b>音乐盒子制作者：</b>:<span class="musicbox-author"><a href="https://siquan001.github.io/" target="_blank">陈思全</a></span></div></div></div></div>',r={img:document.getElementById("img"),title:document.getElementById("music-title"),album:document.getElementById("music-album"),singer:document.getElementById("music-singer"),audio:document.getElementById("audio"),range:{r1:document.querySelector(".range .r1"),r2:document.querySelector(".range .r2"),r:document.querySelector(".range")},time:{cur:document.querySelector(".time .l"),max:document.querySelector(".time .r")},playbtn:document.querySelector(".playbtn"),container:document.querySelector(".siquan-player .container"),lrc:document.querySelector(".right ul"),lastbtn:document.querySelector(".lastbtn"),nextbtn:document.querySelector(".nextbtn"),switchBtn:document.querySelector(".sx"),fullBtn:document.querySelector(".full"),mode:document.querySelector(".mode"),musiclistbtn:document.getElementById("siquan-player-musiclist"),musicinfobtn:document.getElementById("siquan-player-musicinfo"),info:{title:document.querySelector(".info-name"),album:document.querySelector(".info-album"),singer:document.querySelector(".info-singer"),tags:document.querySelector(".info-tags .in"),pj:document.querySelector(".info-pj .in"),tags_f:document.querySelector(".info-tags"),pj_f:document.querySelector(".info-pj")}},function(){musicapi._request(MUSICLIST_URL,(function(e){if("string"==typeof e&&(e=JSON.parse(e)),0==e)alert("歌曲列表获取失败！");else{L=e,n();for(var t=document.querySelector(".musiclist ul"),a=0,o=0;o<L.length;o++){var s=L[o];if(-1==s.tag.indexOf("Legray")){S.push(o);var r=document.createElement("li");r.innerHTML='<div class="anim"><div></div><div></div><div></div></div><div class="index"></div><div class="name"></div>',r.dataset.index=o,r.querySelector(".name").innerHTML=s.artist+" - "+s.name,r.querySelector(".index").innerHTML=a,r.onclick=function(){l(this.dataset.index);try{i.call(this)}catch(n){}},t.appendChild(r),a++}}c()}}));var n=function(){};INFO&&INFO_URL&&musicapi._request(INFO_URL,(function(e){M=e,L?a():n=a}))}(),window.onresize=t,t(),function(){function n(){document.querySelector(".musicbox-author")&&"陈思全"==document.querySelector(".musicbox-author").innerText.trim()?setTimeout(n,1e4):(alert("该音乐盒子侵权！"),document.write("<h1>你是否删除了.music-anthor？我劝你耗子尾汁！<h1>"))}setTimeout((function(){n()}),1e3)}(),AUTOPLAY&&r.audio.addEventListener("canplay",(function(){try{this.play()}catch(n){}})),r.audio.addEventListener("timeupdate",(function(){if(!w){var e=r.audio.currentTime,i=r.audio.duration,t=e/i;x&&(r.range.r2.style.width=100*t+"%",r.range.r1.style.left="calc("+100*t+"% - 6px)"),r.time.cur.innerText=n(e),r.time.max.innerText=n(i);var l=-1;for(var a in p){if(e<a)break;l++}try{r.lrc.querySelector("li.act").classList.remove("act")}catch(n){}for(var c=document.querySelector(".right").getBoundingClientRect().height/2,o=r.lrc.querySelectorAll("li"),s=0;s<l;s++)c-=o[s].getBoundingClientRect().height;-1!=l&&(c-=o[l].getBoundingClientRect().height/2,r.lrc.querySelectorAll("li")[l].classList.add("act")),r.lrc.style.marginTop=c+"px"}})),r.audio.addEventListener("play",(function(){r.container.classList.add("playing"),r.playbtn.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause" viewBox="0 0 16 16">  <path d="M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5m4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5"/></svg>'})),r.audio.addEventListener("pause",(function(){r.container.classList.remove("playing"),r.playbtn.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/></svg>'})),r.audio.addEventListener("ended",(function(){1==d?(this.currentTime=0,this.play()):r.nextbtn.click()})),function(){r.img.onerror=function(){this.src=f},r.playbtn.addEventListener("click",(function(){r.container.classList.contains("playing")?r.audio.pause():r.audio.play()})),d=["order","loop","random"].indexOf(PLAY_MODE);var n=['<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-repeat" viewBox="0 0 16 16"><path d="M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192Zm3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-repeat-1" viewBox="0 0 16 16"><path d="M11 4v1.466a.25.25 0 0 0 .41.192l2.36-1.966a.25.25 0 0 0 0-.384l-2.36-1.966a.25.25 0 0 0-.41.192V3H5a5 5 0 0 0-4.48 7.223.5.5 0 0 0 .896-.446A4 4 0 0 1 5 4zm4.48 1.777a.5.5 0 0 0-.896.446A4 4 0 0 1 11 12H5.001v-1.466a.25.25 0 0 0-.41-.192l-2.36 1.966a.25.25 0 0 0 0 .384l2.36 1.966a.25.25 0 0 0 .41-.192V13h6a5 5 0 0 0 4.48-7.223Z"/><path d="M9 5.5a.5.5 0 0 0-.854-.354l-1.75 1.75a.5.5 0 1 0 .708.708L8 6.707V10.5a.5.5 0 0 0 1 0z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shuffle" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5"/><path d="M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"/></svg>'];r.switchBtn.innerHTML=n[d],r.nextbtn.addEventListener("click",(function(){if(-1!=b)if(2==d)l(S[Math.floor(Math.random()*S.length)]);else{var n=document.querySelector(".musiclist li.act");n?n.nextElementSibling?n.nextElementSibling.click():l(0):l(S[Math.floor(Math.random()*S.length)])}})),r.lastbtn.addEventListener("click",(function(){if(-1!=b)if(2==d)l(S[Math.floor(Math.random()*S.length)]);else{var n=document.querySelector(".musiclist li.act");n?n.previousElementSibling?n.previousElementSibling.click():l(S[S.length-1]):l(S[Math.floor(Math.random()*S.length)])}})),r.switchBtn.addEventListener("click",(function(){2==d?d=0:d++,this.innerHTML=n[d]}))}(),r.range.r1.addEventListener("mousedown",(function(){var n;x=!1,document.onmousemove=function(e){var i=e.pageX,t=r.range.r.getBoundingClientRect().width,l=i-r.range.r.getBoundingClientRect().left;l<0&&(l=0),l>t&&(l=t),n=l/t,r.range.r2.style.width=100*n+"%",r.range.r1.style.left="calc("+100*n+"% - 6px)"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,x=!0,r.audio.currentTime=r.audio.duration*n}})),r.range.r1.addEventListener("touchstart",(function(){var n;function e(e){var i=e.targetTouches[0].pageX,t=r.range.r.getBoundingClientRect().width,l=i-r.range.r.getBoundingClientRect().left;l<0&&(l=0),l>t&&(l=t),n=l/t,r.range.r2.style.width=100*n+"%",r.range.r1.style.left="calc("+100*n+"% - 6px)"}x=!1,document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",(function i(){document.removeEventListener("touchmove",e),document.removeEventListener("touchend",i),x=!0,r.audio.currentTime=r.audio.duration*n}),{passive:!1})}),{passive:!1}),r.range.r.addEventListener("click",(function(n){if(x){var e=(n.pageX-r.range.r.getBoundingClientRect().left)/r.range.r.getBoundingClientRect().width;r.audio.currentTime=r.audio.duration*e}})),u=['<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/></svg>'],s=(m=["dark","light"]).indexOf(DEFAULT_MODE),document.body.classList.add(DEFAULT_MODE),r.mode.innerHTML=u[s],r.mode.addEventListener("click",(function(){document.body.classList.remove(m[s]),s=1==s?0:1,this.innerHTML=u[s],document.body.classList.add(m[s])})),r.musiclistbtn.addEventListener("click",(function(){document.querySelector(".dialog.musiclist").classList.add("show");var n=document.querySelector(".musiclist li.act");n&&n.scrollIntoView({behavior:"smooth",block:"center"})})),r.musicinfobtn.addEventListener("click",(function(){document.querySelector(".dialog.musicinfo").classList.add("show")})),r.fullBtn.addEventListener("click",(function(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()})),document.addEventListener("fullscreenchange",(function(){document.fullscreenElement?(r.fullBtn.querySelector(".full").style.display="block",r.fullBtn.querySelector(".unfull").style.display="none"):(r.fullBtn.querySelector(".unfull").style.display="block",r.fullBtn.querySelector(".full").style.display="none")})),document.querySelectorAll(".dialog .close").forEach((function(n){n.addEventListener("click",(function(){this.parentElement.parentElement.parentElement.parentElement.classList.remove("show")}))})),document.addEventListener("keydown",(function(n){" "==n.key?r.playbtn.click():"ArrowLeft"==n.key?r.lastbtn.click():"ArrowRight"==n.key&&r.nextbtn.click()})),PERFORMANCE_MODE&&(document.addEventListener("visibilitychange",(function(){var n=document.hidden;document.body.style.display=n?"none":""})),window.onfocus=function(){BLURBG&&!h&&(clearInterval(xinnenginter),checkxinnengInterval()),document.title=g,r.img.style.animationPlayState="",document.querySelector(".playing-anim").style.display="",w=!1},window.onblur=function(){BLURBG&&!h&&clearInterval(xinnenginter),document.title="[性能模式冻结中]"+g,r.img.style.animationPlayState="paused",document.querySelector(".playing-anim").style.display="none",w=!0}),TAG||(r.info.tags_f.style.display="none"),INFO||(r.info.pj_f.style.display="none"),BLURBG&&"yes"!=localStorage.chaxinneng&&(document.querySelector(".mbg").style.display="block",localStorage.chaxinneng||e())}();